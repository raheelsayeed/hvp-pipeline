{% extends 'base.html' %}

{% block content %}
<div class="content-panel">
    <h2>Complete Your Profile</h2>
    <p>Please fill in the following information before continuing to your survey.</p>

    <form method="POST">
        <table class="form-table">
            <tr>
                <td><label for="age">Age</label></td>
                <td><input type="number" name="age" id="age" required min="18" max="100"></td>
            </tr>
            <tr>
                <td><label for="gender">Gender</label></td>
                <td>
                    <select name="gender" id="gender" required>
                        <option value="">-- Select Gender --</option>
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><label for="race_ethnicity">Race/Ethnicity</label></td>
                <td>
                    <select name="race_ethnicity" id="race_ethnicity" required>
                        <option value="">-- Select Race/Ethnicity --</option>
                        <option value="Asian">Asian</option>
                        <option value="Black or African American">Black or African American</option>
                        <option value="Hispanic or Latino">Hispanic or Latino</option>
                        <option value="White">White</option>
                        <option value="Other">Other</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><label for="is_provider">Are you a healthcare provider?</label></td>
                <td>
                    <select name="is_provider" id="is_provider" required onchange="toggleProviderField(this.value)">
                        <option value="">-- Select Option --</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </td>
            </tr>
            <tr id="provider_type_block" style="display: none;">
                <td><label for="provider_type">Provider Type</label></td>
                <td>
                    <select name="provider_type" id="provider_type">
                        <option value="">-- Select Type --</option>
                        <option value="Doctor">Doctor</option>
                        <option value="Nurse Practitioner">Nurse Practitioner</option>
                        <option value="Physician Assistant">Physician Assistant</option>
                        <option value="Other">Other</option>
                    </select>
                </td>
            </tr>
        </table>

        <div style="text-align: center; margin-top: 1.5rem;">
            <button type="submit" class="btn primary">Submit</button>
        </div>
    </form>
</div>

<script>
function toggleProviderField(value) {
    const block = document.getElementById('provider_type_block');
    block.style.display = (value === 'yes') ? 'table-row' : 'none';
}
</script>

<style>
.form-table {
    width: 100%;
    border-spacing: 0 1rem;
}
.form-table td {
    vertical-align: top;
    padding: 0.25rem 0.5rem;
}
.form-table label {
    font-weight: bold;
}
.form-table select, 
.form-table input {
    width: 100%;
    padding: 0.4rem;
    border-radius: 4px;
    border: 1px solid #ccc;
}
</style>
{% endblock %}